name: Build employees project
on:
  push:
    branches:
      - main
  workflow_dispatch:


jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout code
              uses: actions/checkout@v5
            - name: Set up JDK 21
              uses: actions/setup-java@v5
              with:
                    distribution: 'temurin'
                    java-version: '21'
                    cache: 'maven'
            - name: Build with Maven
              run: ./mvnw -B package

    integration-tests:
        runs-on: ubuntu-latest
        needs: build

        steps:
            - run: echo "Run integration tests here"

    build-image:
        runs-on: ubuntu-latest
        needs: build

        steps:
            - run: echo "Build Docker image here"

    deploy:
        runs-on: ubuntu-latest
        needs: build-image

        steps:
            - run: echo "Deploy application here"